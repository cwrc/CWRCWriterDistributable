<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <title>CWRC-Writer</title>
        
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-29631253-4"></script>
		<script>
		    window.dataLayer = window.dataLayer || [];
		    function gtag() {
		        dataLayer.push(arguments);
		    }
		    gtag('js', new Date());
		    gtag('config', 'UA-29631253-4');
		</script>
    </head>
    <body>
        <div id="cwrcWriterContainer" style="height: 100%; width: 100%;"></div>
        <script type="text/javascript" src="js/config.js"></script>
        <script type="text/javascript" src="js/cwrcwriter.js"></script>
        <script>
            console.log(CWRCWriterConfig);
            CWRCWriterConfig.cwrcRootUrl = './';
            CWRCWriterConfig.storageDialogs = {
                save: (writer) => {
                    var doc = writer.getDocument();
                    console.log(doc);
                }, 
                load: (writer) => {
                    writer.setDocument('<?xml version="1.0" encoding="UTF-8"?> <?xml-model href="https://cwrc.ca/schemas/cwrc_tei_lite.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?><?xml-stylesheet type="text/css" href="https://cwrc.ca/templates/css/tei.css"?><TEI xmlns="http://www.tei-c.org/ns/1.0"><text><body><div><p> Replace with your text. </p></div></body></text></TEI>')
                }
            };
            var writer = new CWRCWriter(CWRCWriterConfig);
            writer.event('writerInitialized').subscribe(function() {
                writer.showLoadDialog();
            });
        </script>
    </body>
</html>
